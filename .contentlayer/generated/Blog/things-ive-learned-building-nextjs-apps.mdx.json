{
  "title": "Things I've Learned Building Next.js Apps",
  "publishedAt": "2019-02-15",
  "summary": "CSS Modules, Font Loading, Polyfills, Dynamic Imports, MDX, and more!",
  "body": {
    "raw": "\nI've spent a lot of time in the past 4 months creating [Next.js](https://nextjs.org/) apps for both work and personal use.\n\n- I ported over my personal site from [Hugo](/blog/migrating-to-hugo) to [Next.js + MDX](https://github.com/leerob/leerob.io).\n- I created [dsmtech.io](https://dsmtech.io/) (and explored using [Mapbox](/blog/using-mapbox-with-next-js)).\n- A handful of projects at [Hy-Vee](https://innovate.hy-vee.com/) are being [rebuilt with Next.js](https://stackshare.io/hy-vee/hy-vee-aisles-online).\n\nAlong that journey, I've grown to really ❤ Next.js and it's ecosystem. Here are some of the things I've learned along the way.\n\n## CSS Modules\n\nI've worked with CSS, Sass, CSS-in-JS, and now CSS Modules. For most applications, I'd recommend CSS Modules.\n\nCSS Modules prevent naming collisions and keep you from loading excess styling.\nThey're built [directly into Next.js](https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css), making it easy to get started.\n\nFor more information, check out [How Should I Style My React Application?](/blog/css-with-react)\n\n## Font Loading\n\nBy using `@font-face` in combination with the `font-display` [attribute](https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display), I can prevent FOUT (Flash of Unstyled Text) and FOIT (Flash of Invisible Text).\n\n```css\n@font-face {\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 100 900;\n  font-display: optional;\n  src: url(/fonts/inter-var-latin.woff2) format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,\n    U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215,\n    U+FEFF, U+FFFD;\n}\n```\n\nFurther, I can [preload](https://web.dev/preload-critical-assets/) my optimized font file in the `Head` of my document.\n\n**Update:** For more information, check out [Web Fonts in 2021](/blog/fonts).\n\n## Dynamic Imports and Testing\n\nIt's likely that at some point in scaling your Next.js app, you'll want to use an external package\nthat doesn't work well server-side rendered. For me, this package was [react-select](https://react-select.com).\n\nWhen SSR this component, it simply did not work in Safari. Until that bug is fixed, I needed a workaround. Thanks\nto Next's [Dynamic Imports](https://nextjs.org/docs/#dynamic-import), it's easy to import a component and disable SSR.\n\n```jsx\nimport dynamic from 'next/dynamic';\n\nconst ReactSelectNoSSR = dynamic(() => import('../components/select'), {\n  ssr: false,\n});\n\nexport default () => (\n  <>\n    <Header />\n    <ReactSelectNoSSR />\n    <Footer />\n  </>\n);\n```\n\nWhile this works, we can go a step further and provide a [loading placeholder](/blog/loading-placeholder-with-sass) to make the user experience better.\n\n```jsx\nconst ReactSelectNoSSR = dynamic(() => import('../components/select'), {\n  loading: () => <Input />,\n  ssr: false,\n});\n```\n\n## MDX\n\nMy [portfolio](https://github.com/leerob/leerob.io) has transformed quite a bit since I started it in 2014. Originally, it was\njust static HTML & CSS. Then, I [switched over to Hugo](/blog/migrating-to-hugo) so I could write my posts in Markdown.\nThis worked well for a while, but I wanted full control over my layouts and felt much more comfortable with JavaScript.\nThat's what led me to Next.js and MDX.\n\nWith [MDX](https://github.com/mdx-js/mdx), I can use JSX components inside my Markdown documents with ease. This way, if I want to do\nsomething custom, it's as simple as importing a React component.\n\n## Link Prefetching\n\nFor maximum performance, you can use the `prefetch` [attribute](https://nextjs.org/docs#prefetching-pages) on Next's `<Link>` component. This will give the perception\nthe page loads instantly.\n\n- As of [Next.js 8](https://nextjs.org/blog/next-8/), `prefetch` uses `<link rel=\"preload\">` instead of a `<script>` tag. It also only starts prefetching after `onload` to allow the browser to manage resources.\n- As of [Next.js 9](https://nextjs.org/blog/next-9/), `<Link>` components will be [automatically prefetched](https://nextjs.org/blog/next-9#prefetching-in-viewport-links) as they appear in-viewport. You no longer need to explicitly say `prefetch`.\n- As of [Next.js 13](https://nextjs.org/blog/next-13/), you no longer need to manually add `a` tags as a child of `<Link>` components.\n\n```jsx\n<Link href=\"/\">Home</Link>\n```\n\n## Polyfills\n\nNext.js supports all modern browsers (Edge, Firefox, Chrome, Safari, Opera) out of the box.\nHowever, it's possible that your own code or external NPM dependencies might use features not supported in your target browsers. In this case,\nyou will need to [add polyfills](https://nextjs.org/docs/basic-features/supported-browsers-features#custom-polyfills).\n\nYou'll need to add a top-level import for the specific polyfill you need in your Custom `<App>` or the individual component.\n\n```js title=\"pages/_app.js\"\n// Add your polyfills here or at the component level.\n// For example...\n// import 'resize-observer-polyfill'\n\nexport default function MyApp({ Component, pageProps }) {\n  return <Component {...pageProps} />;\n}\n```\n\n## Vercel\n\n[Vercel](https://vercel.com) is hands down the **easiest way to deploy applications** I've ever used.\nIt's incredibly easy to get started and their GitHub integration will automatically deploy your app on pull requests and leave a link\nfor you to review the changes. If everything looks good, it will deploy to prod when the PR is merged. Simple as that.\n\nThe icing on the cake is how well the Vercel ecosystem works together. Their [domain service](https://vercel.com/domains) allows you\nto buy domains _from the command line_. I've never been able to go from an idea to a live, deployed application\nhosted on a domain so fast. I was even able to setup email forwarding for my domain and create `me@leerob.io` using [improvmx](https://improvmx.com/) 🎉\n\n**Update:** I work at Vercel now. This was written before, but still holds true 😁\n\n## Where To Get Help\n\nThe Next.js and Vercel community support is _fantastic_. They're very responsive to emails, issues, or any other form\nof contact. My preferred method would be [GitHub Discussions](https://github.com/vercel/next.js/discussions). Thanks to Discussions, all\nquestions and answers are indexed, searchable, and easy to find. Their [tutorials](https://nextjs.org/learn/) and [docs](https://nextjs.org/docs) are also fantastic and well-written.\n\n## Additional Resources\n\n- [Mastering Next.js](https://masteringnextjs.com/)\n- [React 2025](https://react2025.com/)\n- [Official Learn Tutorial](http://nextjs.org/learn)\n",
    "code": "var Component=(()=>{var h=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var f=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),u=(l,e)=>{for(var r in e)s(l,r,{get:e[r],enumerable:!0})},t=(l,e,r,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of B(e))!m.call(l,o)&&o!==r&&s(l,o,{get:()=>e[o],enumerable:!(a=p(e,o))||a.enumerable});return l};var g=(l,e,r)=>(r=l!=null?h(y(l)):{},t(e||!l||!l.__esModule?s(r,\"default\",{value:l,enumerable:!0}):r,l)),A=l=>t(s({},\"__esModule\",{value:!0}),l);var i=f((C,c)=>{c.exports=_jsx_runtime});var w={};u(w,{default:()=>b,frontmatter:()=>F});var n=g(i()),F={title:\"Things I've Learned Building Next.js Apps\",publishedAt:\"2019-02-15\",summary:\"CSS Modules, Font Loading, Polyfills, Dynamic Imports, MDX, and more!\"};function d(l){let e=Object.assign({p:\"p\",a:\"a\",ul:\"ul\",li:\"li\",h2:\"h2\",span:\"span\",code:\"code\",div:\"div\",pre:\"pre\",strong:\"strong\",em:\"em\"},l.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"I've spent a lot of time in the past 4 months creating \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/\",children:\"Next.js\"}),\" apps for both work and personal use.\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"I ported over my personal site from \",(0,n.jsx)(e.a,{href:\"/blog/migrating-to-hugo\",children:\"Hugo\"}),\" to \",(0,n.jsx)(e.a,{href:\"https://github.com/leerob/leerob.io\",children:\"Next.js + MDX\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"I created \",(0,n.jsx)(e.a,{href:\"https://dsmtech.io/\",children:\"dsmtech.io\"}),\" (and explored using \",(0,n.jsx)(e.a,{href:\"/blog/using-mapbox-with-next-js\",children:\"Mapbox\"}),\").\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"A handful of projects at \",(0,n.jsx)(e.a,{href:\"https://innovate.hy-vee.com/\",children:\"Hy-Vee\"}),\" are being \",(0,n.jsx)(e.a,{href:\"https://stackshare.io/hy-vee/hy-vee-aisles-online\",children:\"rebuilt with Next.js\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Along that journey, I've grown to really \\u2764 Next.js and it's ecosystem. Here are some of the things I've learned along the way.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"css-modules\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#css-modules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"CSS Modules\"]}),`\n`,(0,n.jsx)(e.p,{children:\"I've worked with CSS, Sass, CSS-in-JS, and now CSS Modules. For most applications, I'd recommend CSS Modules.\"}),`\n`,(0,n.jsxs)(e.p,{children:[`CSS Modules prevent naming collisions and keep you from loading excess styling.\nThey're built `,(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css\",children:\"directly into Next.js\"}),\", making it easy to get started.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"For more information, check out \",(0,n.jsx)(e.a,{href:\"/blog/css-with-react\",children:\"How Should I Style My React Application?\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"font-loading\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#font-loading\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Font Loading\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"By using \",(0,n.jsx)(e.code,{children:\"@font-face\"}),\" in combination with the \",(0,n.jsx)(e.code,{children:\"font-display\"}),\" \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display\",children:\"attribute\"}),\", I can prevent FOUT (Flash of Unstyled Text) and FOIT (Flash of Invisible Text).\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"css\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"css\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"@font-face\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  font-family: \"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'Inter'\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  font-style: \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"normal\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  font-weight: \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"900\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  font-display: \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"optional\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  src: \"}),(0,n.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"url\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"/fonts/inter-var-latin.woff2\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"format\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'woff2'\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  unicode-range: \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+0000-00FF\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+0131\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+0152-0153\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+02BB-02BC\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+02C6\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+02DA\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+02DC\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+2000-206F\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+2074\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+20AC\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+2122\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+2191\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+2193\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+2212\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+2215\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+FEFF\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"U+FFFD\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Further, I can \",(0,n.jsx)(e.a,{href:\"https://web.dev/preload-critical-assets/\",children:\"preload\"}),\" my optimized font file in the \",(0,n.jsx)(e.code,{children:\"Head\"}),\" of my document.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Update:\"}),\" For more information, check out \",(0,n.jsx)(e.a,{href:\"/blog/fonts\",children:\"Web Fonts in 2021\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"dynamic-imports-and-testing\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#dynamic-imports-and-testing\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Dynamic Imports and Testing\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`It's likely that at some point in scaling your Next.js app, you'll want to use an external package\nthat doesn't work well server-side rendered. For me, this package was `,(0,n.jsx)(e.a,{href:\"https://react-select.com\",children:\"react-select\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`When SSR this component, it simply did not work in Safari. Until that bug is fixed, I needed a workaround. Thanks\nto Next's `,(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/#dynamic-import\",children:\"Dynamic Imports\"}),\", it's easy to import a component and disable SSR.\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"dynamic\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'next/dynamic'\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"ReactSelectNoSSR\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"dynamic\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'../components/select'\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"), {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"ssr\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"default\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  <>\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Header\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"ReactSelectNoSSR\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Footer\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" />\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  </>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"While this works, we can go a step further and provide a \",(0,n.jsx)(e.a,{href:\"/blog/loading-placeholder-with-sass\",children:\"loading placeholder\"}),\" to make the user experience better.\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"ReactSelectNoSSR\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"dynamic\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'../components/select'\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"), {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"loading\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Input\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" />,\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"ssr\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"mdx\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#mdx\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"MDX\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My \",(0,n.jsx)(e.a,{href:\"https://github.com/leerob/leerob.io\",children:\"portfolio\"}),` has transformed quite a bit since I started it in 2014. Originally, it was\njust static HTML & CSS. Then, I `,(0,n.jsx)(e.a,{href:\"/blog/migrating-to-hugo\",children:\"switched over to Hugo\"}),` so I could write my posts in Markdown.\nThis worked well for a while, but I wanted full control over my layouts and felt much more comfortable with JavaScript.\nThat's what led me to Next.js and MDX.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"With \",(0,n.jsx)(e.a,{href:\"https://github.com/mdx-js/mdx\",children:\"MDX\"}),`, I can use JSX components inside my Markdown documents with ease. This way, if I want to do\nsomething custom, it's as simple as importing a React component.`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"link-prefetching\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#link-prefetching\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Link Prefetching\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"For maximum performance, you can use the \",(0,n.jsx)(e.code,{children:\"prefetch\"}),\" \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs#prefetching-pages\",children:\"attribute\"}),\" on Next's \",(0,n.jsx)(e.code,{children:\"<Link>\"}),` component. This will give the perception\nthe page loads instantly.`]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"As of \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/blog/next-8/\",children:\"Next.js 8\"}),\", \",(0,n.jsx)(e.code,{children:\"prefetch\"}),\" uses \",(0,n.jsx)(e.code,{children:'<link rel=\"preload\">'}),\" instead of a \",(0,n.jsx)(e.code,{children:\"<script>\"}),\" tag. It also only starts prefetching after \",(0,n.jsx)(e.code,{children:\"onload\"}),\" to allow the browser to manage resources.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"As of \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/blog/next-9/\",children:\"Next.js 9\"}),\", \",(0,n.jsx)(e.code,{children:\"<Link>\"}),\" components will be \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/blog/next-9#prefetching-in-viewport-links\",children:\"automatically prefetched\"}),\" as they appear in-viewport. You no longer need to explicitly say \",(0,n.jsx)(e.code,{children:\"prefetch\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"As of \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/blog/next-13/\",children:\"Next.js 13\"}),\", you no longer need to manually add \",(0,n.jsx)(e.code,{children:\"a\"}),\" tags as a child of \",(0,n.jsx)(e.code,{children:\"<Link>\"}),\" components.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Link\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"href\"}),(0,n.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"/\"'}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">Home</\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Link\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]})})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"polyfills\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#polyfills\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Polyfills\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`Next.js supports all modern browsers (Edge, Firefox, Chrome, Safari, Opera) out of the box.\nHowever, it's possible that your own code or external NPM dependencies might use features not supported in your target browsers. In this case,\nyou will need to `,(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/basic-features/supported-browsers-features#custom-polyfills\",children:\"add polyfills\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"You'll need to add a top-level import for the specific polyfill you need in your Custom \",(0,n.jsx)(e.code,{children:\"<App>\"}),\" or the individual component.\"]}),`\n`,(0,n.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,n.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"js\",\"data-theme\":\"default\",children:\"pages/_app.js\"}),(0,n.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// Add your polyfills here or at the component level.\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// For example...\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// import 'resize-observer-polyfill'\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"default\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"MyApp\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"Component\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"pageProps\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Component\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"pageProps\"}),(0,n.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" />;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"vercel\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#vercel\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Vercel\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://vercel.com\",children:\"Vercel\"}),\" is hands down the \",(0,n.jsx)(e.strong,{children:\"easiest way to deploy applications\"}),` I've ever used.\nIt's incredibly easy to get started and their GitHub integration will automatically deploy your app on pull requests and leave a link\nfor you to review the changes. If everything looks good, it will deploy to prod when the PR is merged. Simple as that.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The icing on the cake is how well the Vercel ecosystem works together. Their \",(0,n.jsx)(e.a,{href:\"https://vercel.com/domains\",children:\"domain service\"}),` allows you\nto buy domains `,(0,n.jsx)(e.em,{children:\"from the command line\"}),`. I've never been able to go from an idea to a live, deployed application\nhosted on a domain so fast. I was even able to setup email forwarding for my domain and create `,(0,n.jsx)(e.code,{children:\"me@leerob.io\"}),\" using \",(0,n.jsx)(e.a,{href:\"https://improvmx.com/\",children:\"improvmx\"}),\" \\u{1F389}\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Update:\"}),\" I work at Vercel now. This was written before, but still holds true \\u{1F601}\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"where-to-get-help\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#where-to-get-help\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Where To Get Help\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The Next.js and Vercel community support is \",(0,n.jsx)(e.em,{children:\"fantastic\"}),`. They're very responsive to emails, issues, or any other form\nof contact. My preferred method would be `,(0,n.jsx)(e.a,{href:\"https://github.com/vercel/next.js/discussions\",children:\"GitHub Discussions\"}),`. Thanks to Discussions, all\nquestions and answers are indexed, searchable, and easy to find. Their `,(0,n.jsx)(e.a,{href:\"https://nextjs.org/learn/\",children:\"tutorials\"}),\" and \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs\",children:\"docs\"}),\" are also fantastic and well-written.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"additional-resources\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#additional-resources\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Additional Resources\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://masteringnextjs.com/\",children:\"Mastering Next.js\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://react2025.com/\",children:\"React 2025\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"http://nextjs.org/learn\",children:\"Official Learn Tutorial\"})}),`\n`]})]})}function x(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,Object.assign({},l,{children:(0,n.jsx)(d,l)})):d(l)}var b=x;return A(w);})();\n;return Component;"
  },
  "_id": "things-ive-learned-building-nextjs-apps.mdx",
  "_raw": {
    "sourceFilePath": "things-ive-learned-building-nextjs-apps.mdx",
    "sourceFileName": "things-ive-learned-building-nextjs-apps.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "things-ive-learned-building-nextjs-apps"
  },
  "type": "Blog",
  "slug": "things-ive-learned-building-nextjs-apps",
  "tweetIds": [],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Things I've Learned Building Next.js Apps",
    "datePublished": "2019-02-15",
    "dateModified": "2019-02-15",
    "description": "CSS Modules, Font Loading, Polyfills, Dynamic Imports, MDX, and more!",
    "image": "https://homescree.net/og?title=Things I've Learned Building Next.js Apps",
    "url": "https://homescree.net/blog/things-ive-learned-building-nextjs-apps",
    "author": {
      "@type": "Person",
      "name": "Matthew Guo"
    }
  }
}