{
  "title": "Using Serverless Redis with Next.js",
  "publishedAt": "2021-03-19",
  "summary": "Did you know it's possible to use Redis for your entire database? Hashmaps, counters, sorted lists, and even queues. Learn how to deploy a Redis & Next.js app in a few short minutes.",
  "body": {
    "raw": "\nWhen front-end developers are learning the full-stack, they often stumble on which [backend to use](/blog/backend). If they hear Redis, they think of in-memory caching. That's what I thought, at least.\nAfter doing more research, I was surprised to find Redis excels at [hashmaps, counters, sorted lists, and even queues](http://oldblog.antirez.com/post/take-advantage-of-redis-adding-it-to-your-stack.html). It's possible to use Redis for your entire database!\n\nThis article will explore using Redis with Next.js in Serverless environments.\n\n### Creating a Redis Instance\n\n[Upstash](https://upstash.com/) is the easiest way I've found to deploy a managed Redis instance. A few reasons I recommend it:\n\n- There's a generous free tier, and then per-request pricing when you're ready to upgrade. This keeps costs free (or extremely low). There's even a $120/month cap to prevent surprises, plus reserved plans for larger projects.\n- With Upstash, you can use Redis for more than just caching with durable storage. There's even [Strong Consistency](https://docs.upstash.com/docs/overall/consistency) mode for guaranteed, durable writes.\n- It's fast. Really, really fast. Extremely low latency.\n\nThe Upstash Integration for Vercel makes it easy to get started with Serverless Redis. We'll start by deploying the [completed project](https://roadmap-redis.vercel.app/), and then running the application locally.\n\n1. [Deploy the demo to Vercel using the Upstash Integration.](https://vercel.com/new/git/external?repository-url=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Ftree%2Fcanary%2Fexamples%2Fwith-redis&project-name=redis-roadmap&repository-name=redis-roadmap&demo-title=Redis%20Roadmap&demo-description=Create%20and%20upvote%20features%20for%20your%20product.&demo-url=https%3A%2F%2Froadmap-redis.vercel.app%2F&integration-ids=oac_V3R1GIpkoJorr6fqyiwdhl17)\n2. You'll be prompted to sign-up or sign-in to Upstash.\n3. Then, you can create a free database and attach it to your Vercel project.\n4. Click \"Complete on Vercel\".\n5. That's it! You should have a deployed project and URL.\n\nBy default, both Vercel and Upstash use the `us-east-1` region for Serverless Functions. Using the same region is critical to minimize latency between your [Serverless Functions](https://vercel.com/docs/serverless-functions/introduction) and Redis.\n\n### Connecting to Redis\n\nIf you're using Vercel, you can clone the git repository created during deployment.\nThe `REDIS_URL` environment variable was added by the Upstash Integration while deploying. To run the application locally, we'll need to pull our environment variables locally using the [Vercel CLI](https://vercel.com/download).\n\n```jsx\n$ vercel link\n$ vercel env pull .env.local\n```\n\nIf you're not using Vercel, you can clone this demo locally using `npx create-next-app --example with-redis roadmap`.\nThen, create an `.env.local` file in the root of your repository and add the Redis connection string.\n\n```jsx:.env.local\nREDIS_URL=redis://:password@endpoint:port\n```\n\nWe'll use [ioredis](https://github.com/luin/ioredis), a Node.js Redis client with [async/await](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function) support, to connect to Redis.\n\n```jsx title=\"lib/redis.js\"\nimport Redis from 'ioredis';\n\nconst redis = new Redis(process.env.REDIS_URL);\n\nexport default redis;\n```\n\nFinally, we can use this inside any page or API Route to retrieve information from Redis.\n\n```jsx\nimport redis from 'lib/redis';\n\nconst value = JSON.parse(await redis.hget('feedback', id));\n```\n\n### Using Redis with Next.js\n\nHere's a few common Redis commands you might need to use:\n\n- Fetching a JSON object: `redis.hget('feedback', id)`\n- Creating a JSON object: `redis.hset('feedback', id, \"{'key': 'val'}\")`\n- Deleting by key: `redis.hdel('feedback', id)`\n- Fetching a list of items: `redis.hvals('feedback')`\n\nIn the demo application, we use Redis for the following:\n\n1. The feature list is server-rendered using `getServerSideProps`. We fetch all features and sort based on the score and title.\n1. The initial feature list from the server populates the local cache of [SWR](swr.vercel.app). This ensures data remains up-to-date on the client-side.\n1. When adding features or emails, a `POST` request is sent to an [API Route](https://nextjs.org/docs/api-routes/introduction) to update Redis.\n1. Adding/upvoting features will mutate the client-side cache for [optimistic UI updates](https://swr.vercel.app/docs/mutation).\n\nYou can view the entire Redis API [here](https://redis.io/commands). For more advanced Redis usage, see the Redis API compatibility with Upstash [here](https://docs.upstash.com/docs/overall/rediscompatibility/).\n\n### Conclusion\n\nI frequently need to store data, somewhere. It doesn't always need to be complex â€“ a key/value store will often suffice.\nAfter working more with Upstash, Redis is now my preferred solution for this (and apparently [many other people's as well](https://www.freecodecamp.org/news/stack-overflow-developer-survey-2020-programming-language-framework-salary-data/)).\n\n- [View the demo âœ¨](https://roadmap-redis.vercel.app/)\n- [Deploy your own ðŸš€](https://vercel.com/new/git/external?repository-url=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Ftree%2Fcanary%2Fexamples%2Fwith-redis&project-name=redis-roadmap&repository-name=redis-roadmap&demo-title=Redis%20Roadmap&demo-description=Create%20and%20upvote%20features%20for%20your%20product.&demo-url=https%3A%2F%2Froadmap-redis.vercel.app%2F&integration-ids=oac_V3R1GIpkoJorr6fqyiwdhl17)\n\n**Bonus:** If you need to inspect your Redis database locally, check out [TablePlus](https://tableplus.com/) for a GUI and [redis-cli](https://docs.upstash.com/docs/overall/getstarted#connect-to-your-database) if you prefer the command-line.\n",
    "code": "var Component=(()=>{var an=Object.create;var k=Object.defineProperty;var dn=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var sn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var G=(d,n)=>()=>(n||d((n={exports:{}}).exports,n),n.exports),_n=(d,n)=>{for(var b in n)k(d,b,{get:n[b],enumerable:!0})},xe=(d,n,b,N)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let g of cn(n))!mn.call(d,g)&&g!==b&&k(d,g,{get:()=>n[g],enumerable:!(N=dn(n,g))||N.enumerable});return d};var pn=(d,n,b)=>(b=d!=null?an(sn(d)):{},xe(n||!d||!d.__esModule?k(b,\"default\",{value:d,enumerable:!0}):b,d)),bn=d=>xe(k({},\"__esModule\",{value:!0}),d);var Ue=G((vn,ve)=>{ve.exports=React});var Ee=G(z=>{\"use strict\";(function(){\"use strict\";var d=Ue(),n=Symbol.for(\"react.element\"),b=Symbol.for(\"react.portal\"),N=Symbol.for(\"react.fragment\"),g=Symbol.for(\"react.strict_mode\"),J=Symbol.for(\"react.profiler\"),H=Symbol.for(\"react.provider\"),X=Symbol.for(\"react.context\"),w=Symbol.for(\"react.forward_ref\"),D=Symbol.for(\"react.suspense\"),P=Symbol.for(\"react.suspense_list\"),C=Symbol.for(\"react.memo\"),O=Symbol.for(\"react.lazy\"),Ce=Symbol.for(\"react.offscreen\"),K=Symbol.iterator,Fe=\"@@iterator\";function Te(e){if(e===null||typeof e!=\"object\")return null;var t=K&&e[K]||e[Fe];return typeof t==\"function\"?t:null}var v=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function m(e){{for(var t=arguments.length,l=new Array(t>1?t-1:0),o=1;o<t;o++)l[o-1]=arguments[o];Ae(\"error\",e,l)}}function Ae(e,t,l){{var o=v.ReactDebugCurrentFrame,u=o.getStackAddendum();u!==\"\"&&(t+=\"%s\",l=l.concat([u]));var a=l.map(function(f){return String(f)});a.unshift(\"Warning: \"+t),Function.prototype.apply.call(console[e],console,a)}}var je=!1,Se=!1,ke=!1,De=!1,Pe=!1,Z;Z=Symbol.for(\"react.module.reference\");function Oe(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===N||e===J||Pe||e===g||e===D||e===P||De||e===Ce||je||Se||ke||typeof e==\"object\"&&e!==null&&(e.$$typeof===O||e.$$typeof===C||e.$$typeof===H||e.$$typeof===X||e.$$typeof===w||e.$$typeof===Z||e.getModuleId!==void 0))}function Ie(e,t,l){var o=e.displayName;if(o)return o;var u=t.displayName||t.name||\"\";return u!==\"\"?l+\"(\"+u+\")\":l}function Q(e){return e.displayName||\"Context\"}function h(e){if(e==null)return null;if(typeof e.tag==\"number\"&&m(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case N:return\"Fragment\";case b:return\"Portal\";case J:return\"Profiler\";case g:return\"StrictMode\";case D:return\"Suspense\";case P:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case X:var t=e;return Q(t)+\".Consumer\";case H:var l=e;return Q(l._context)+\".Provider\";case w:return Ie(e,e.render,\"ForwardRef\");case C:var o=e.displayName||null;return o!==null?o:h(e.type)||\"Memo\";case O:{var u=e,a=u._payload,f=u._init;try{return h(f(a))}catch{return null}}}return null}var x=Object.assign,R=0,ee,ne,re,te,le,oe,ie;function fe(){}fe.__reactDisabledLog=!0;function Ve(){{if(R===0){ee=console.log,ne=console.info,re=console.warn,te=console.error,le=console.group,oe=console.groupCollapsed,ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:fe,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}R++}}function We(){{if(R--,R===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},e,{value:ee}),info:x({},e,{value:ne}),warn:x({},e,{value:re}),error:x({},e,{value:te}),group:x({},e,{value:le}),groupCollapsed:x({},e,{value:oe}),groupEnd:x({},e,{value:ie})})}R<0&&m(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var I=v.ReactCurrentDispatcher,V;function F(e,t,l){{if(V===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\\n( *(at )?)/);V=o&&o[1]||\"\"}return`\n`+V+e}}var W=!1,T;{var Ye=typeof WeakMap==\"function\"?WeakMap:Map;T=new Ye}function ue(e,t){if(!e||W)return\"\";{var l=T.get(e);if(l!==void 0)return l}var o;W=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var a;a=I.current,I.current=null,Ve();try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(f,[])}catch(y){o=y}Reflect.construct(e,[],f)}else{try{f.call()}catch(y){o=y}e.call(f.prototype)}}else{try{throw Error()}catch(y){o=y}e()}}catch(y){if(y&&o&&typeof y.stack==\"string\"){for(var i=y.stack.split(`\n`),_=o.stack.split(`\n`),c=i.length-1,s=_.length-1;c>=1&&s>=0&&i[c]!==_[s];)s--;for(;c>=1&&s>=0;c--,s--)if(i[c]!==_[s]){if(c!==1||s!==1)do if(c--,s--,s<0||i[c]!==_[s]){var p=`\n`+i[c].replace(\" at new \",\" at \");return e.displayName&&p.includes(\"<anonymous>\")&&(p=p.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&T.set(e,p),p}while(c>=1&&s>=0);break}}}finally{W=!1,I.current=a,We(),Error.prepareStackTrace=u}var E=e?e.displayName||e.name:\"\",Ne=E?F(E):\"\";return typeof e==\"function\"&&T.set(e,Ne),Ne}function $e(e,t,l){return ue(e,!1)}function Le(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function A(e,t,l){if(e==null)return\"\";if(typeof e==\"function\")return ue(e,Le(e));if(typeof e==\"string\")return F(e);switch(e){case D:return F(\"Suspense\");case P:return F(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case w:return $e(e.render);case C:return A(e.type,t,l);case O:{var o=e,u=o._payload,a=o._init;try{return A(a(u),t,l)}catch{}}}return\"\"}var j=Object.prototype.hasOwnProperty,ae={},de=v.ReactDebugCurrentFrame;function S(e){if(e){var t=e._owner,l=A(e.type,e._source,t?t.type:null);de.setExtraStackFrame(l)}else de.setExtraStackFrame(null)}function Me(e,t,l,o,u){{var a=Function.call.bind(j);for(var f in e)if(a(e,f)){var i=void 0;try{if(typeof e[f]!=\"function\"){var _=Error((o||\"React class\")+\": \"+l+\" type `\"+f+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[f]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw _.name=\"Invariant Violation\",_}i=e[f](t,f,o,l,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(c){i=c}i&&!(i instanceof Error)&&(S(u),m(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",l,f,typeof i),S(null)),i instanceof Error&&!(i.message in ae)&&(ae[i.message]=!0,S(u),m(\"Failed %s type: %s\",l,i.message),S(null))}}}var qe=Array.isArray;function Y(e){return qe(e)}function Ge(e){{var t=typeof Symbol==\"function\"&&Symbol.toStringTag,l=t&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return l}}function ze(e){try{return ce(e),!1}catch{return!0}}function ce(e){return\"\"+e}function se(e){if(ze(e))return m(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Ge(e)),ce(e)}var B=v.ReactCurrentOwner,Je={key:!0,ref:!0,__self:!0,__source:!0},me,_e,$;$={};function He(e){if(j.call(e,\"ref\")){var t=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function Xe(e){if(j.call(e,\"key\")){var t=Object.getOwnPropertyDescriptor(e,\"key\").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function Ke(e,t){if(typeof e.ref==\"string\"&&B.current&&t&&B.current.stateNode!==t){var l=h(B.current.type);$[l]||(m('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',h(B.current.type),e.ref),$[l]=!0)}}function Ze(e,t){{var l=function(){me||(me=!0,m(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};l.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:l,configurable:!0})}}function Qe(e,t){{var l=function(){_e||(_e=!0,m(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};l.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:l,configurable:!0})}}var en=function(e,t,l,o,u,a,f){var i={$$typeof:n,type:e,key:t,ref:l,props:f,_owner:a};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:u}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nn(e,t,l,o,u){{var a,f={},i=null,_=null;l!==void 0&&(se(l),i=\"\"+l),Xe(t)&&(se(t.key),i=\"\"+t.key),He(t)&&(_=t.ref,Ke(t,u));for(a in t)j.call(t,a)&&!Je.hasOwnProperty(a)&&(f[a]=t[a]);if(e&&e.defaultProps){var c=e.defaultProps;for(a in c)f[a]===void 0&&(f[a]=c[a])}if(i||_){var s=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Ze(f,s),_&&Qe(f,s)}return en(e,i,_,u,o,B.current,f)}}var L=v.ReactCurrentOwner,pe=v.ReactDebugCurrentFrame;function U(e){if(e){var t=e._owner,l=A(e.type,e._source,t?t.type:null);pe.setExtraStackFrame(l)}else pe.setExtraStackFrame(null)}var M;M=!1;function q(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function be(){{if(L.current){var e=h(L.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var t=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),l=e.lineNumber;return`\n\nCheck your code at `+t+\":\"+l+\".\"}return\"\"}}var he={};function tn(e){{var t=be();if(!t){var l=typeof e==\"string\"?e:e.displayName||e.name;l&&(t=`\n\nCheck the top-level render call using <`+l+\">.\")}return t}}function ye(e,t){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var l=tn(t);if(he[l])return;he[l]=!0;var o=\"\";e&&e._owner&&e._owner!==L.current&&(o=\" It was passed a child from \"+h(e._owner.type)+\".\"),U(e),m('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',l,o),U(null)}}function ge(e,t){{if(typeof e!=\"object\")return;if(Y(e))for(var l=0;l<e.length;l++){var o=e[l];q(o)&&ye(o,t)}else if(q(e))e._store&&(e._store.validated=!0);else if(e){var u=Te(e);if(typeof u==\"function\"&&u!==e.entries)for(var a=u.call(e),f;!(f=a.next()).done;)q(f.value)&&ye(f.value,t)}}}function ln(e){{var t=e.type;if(t==null||typeof t==\"string\")return;var l;if(typeof t==\"function\")l=t.propTypes;else if(typeof t==\"object\"&&(t.$$typeof===w||t.$$typeof===C))l=t.propTypes;else return;if(l){var o=h(t);Me(l,e.props,\"prop\",o,e)}else if(t.PropTypes!==void 0&&!M){M=!0;var u=h(t);m(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",u||\"Unknown\")}typeof t.getDefaultProps==\"function\"&&!t.getDefaultProps.isReactClassApproved&&m(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function on(e){{for(var t=Object.keys(e.props),l=0;l<t.length;l++){var o=t[l];if(o!==\"children\"&&o!==\"key\"){U(e),m(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),U(null);break}}e.ref!==null&&(U(e),m(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),U(null))}}function fn(e,t,l,o,u,a){{var f=Oe(e);if(!f){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var _=rn(u);_?i+=_:i+=be();var c;e===null?c=\"null\":Y(e)?c=\"array\":e!==void 0&&e.$$typeof===n?(c=\"<\"+(h(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):c=typeof e,m(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",c,i)}var s=nn(e,t,l,u,a);if(s==null)return s;if(f){var p=t.children;if(p!==void 0)if(o)if(Y(p)){for(var E=0;E<p.length;E++)ge(p[E],e);Object.freeze&&Object.freeze(p)}else m(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(p,e)}return e===N?on(s):ln(s),s}}var un=fn;z.Fragment=N,z.jsxDEV=un})()});var Be=G((En,Re)=>{\"use strict\";Re.exports=Ee()});var Nn={};_n(Nn,{default:()=>gn,frontmatter:()=>hn});var r=pn(Be()),hn={title:\"Using Serverless Redis with Next.js\",publishedAt:\"2021-03-19\",summary:\"Did you know it's possible to use Redis for your entire database? Hashmaps, counters, sorted lists, and even queues. Learn how to deploy a Redis & Next.js app in a few short minutes.\"};function we(d){let n=Object.assign({p:\"p\",a:\"a\",h3:\"h3\",span:\"span\",ul:\"ul\",li:\"li\",ol:\"ol\",code:\"code\",div:\"div\",pre:\"pre\",strong:\"strong\"},d.components);return(0,r.jsxDEV)(r.Fragment,{children:[(0,r.jsxDEV)(n.p,{children:[\"When front-end developers are learning the full-stack, they often stumble on which \",(0,r.jsxDEV)(n.a,{href:\"/blog/backend\",children:\"backend to use\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:7,columnNumber:84},this),`. If they hear Redis, they think of in-memory caching. That's what I thought, at least.\nAfter doing more research, I was surprised to find Redis excels at `,(0,r.jsxDEV)(n.a,{href:\"http://oldblog.antirez.com/post/take-advantage-of-redis-adding-it-to-your-stack.html\",children:\"hashmaps, counters, sorted lists, and even queues\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:8,columnNumber:68},this),\". It's possible to use Redis for your entire database!\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"This article will explore using Redis with Next.js in Serverless environments.\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:10,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"creating-a-redis-instance\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#creating-a-redis-instance\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this),\"Creating a Redis Instance\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:12,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[(0,r.jsxDEV)(n.a,{href:\"https://upstash.com/\",children:\"Upstash\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:14,columnNumber:1},this),\" is the easiest way I've found to deploy a managed Redis instance. A few reasons I recommend it:\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:14,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.ul,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:\"There's a generous free tier, and then per-request pricing when you're ready to upgrade. This keeps costs free (or extremely low). There's even a $120/month cap to prevent surprises, plus reserved plans for larger projects.\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"With Upstash, you can use Redis for more than just caching with durable storage. There's even \",(0,r.jsxDEV)(n.a,{href:\"https://docs.upstash.com/docs/overall/consistency\",children:\"Strong Consistency\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:17,columnNumber:97},this),\" mode for guaranteed, durable writes.\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"It's fast. Really, really fast. Extremely low latency.\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:18,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"The Upstash Integration for Vercel makes it easy to get started with Serverless Redis. We'll start by deploying the \",(0,r.jsxDEV)(n.a,{href:\"https://roadmap-redis.vercel.app/\",children:\"completed project\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:20,columnNumber:117},this),\", and then running the application locally.\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:20,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:(0,r.jsxDEV)(n.a,{href:\"https://vercel.com/new/git/external?repository-url=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Ftree%2Fcanary%2Fexamples%2Fwith-redis&project-name=redis-roadmap&repository-name=redis-roadmap&demo-title=Redis%20Roadmap&demo-description=Create%20and%20upvote%20features%20for%20your%20product.&demo-url=https%3A%2F%2Froadmap-redis.vercel.app%2F&integration-ids=oac_V3R1GIpkoJorr6fqyiwdhl17\",children:\"Deploy the demo to Vercel using the Upstash Integration.\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:22,columnNumber:4},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"You'll be prompted to sign-up or sign-in to Upstash.\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Then, you can create a free database and attach it to your Vercel project.\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:'Click \"Complete on Vercel\".'},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"That's it! You should have a deployed project and URL.\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:26,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"By default, both Vercel and Upstash use the \",(0,r.jsxDEV)(n.code,{children:\"us-east-1\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:28,columnNumber:45},this),\" region for Serverless Functions. Using the same region is critical to minimize latency between your \",(0,r.jsxDEV)(n.a,{href:\"https://vercel.com/docs/serverless-functions/introduction\",children:\"Serverless Functions\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:28,columnNumber:157},this),\" and Redis.\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"connecting-to-redis\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#connecting-to-redis\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this),\"Connecting to Redis\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[`If you're using Vercel, you can clone the git repository created during deployment.\nThe `,(0,r.jsxDEV)(n.code,{children:\"REDIS_URL\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:33,columnNumber:5},this),\" environment variable was added by the Upstash Integration while deploying. To run the application locally, we'll need to pull our environment variables locally using the \",(0,r.jsxDEV)(n.a,{href:\"https://vercel.com/download\",children:\"Vercel CLI\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:33,columnNumber:187},this),\".\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:32,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,r.jsxDEV)(n.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,r.jsxDEV)(n.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:[(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"$\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:105},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:142},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"vercel\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:179},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:221},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"link\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:258},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:86},this),`\n`,(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:[(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"$\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:20},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:57},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"vercel\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:94},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:136},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"env\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:173},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:212},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E5C07B\"},children:\"pull\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:249},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" .\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:289},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E5C07B\"},children:\"env\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:327},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\".\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:366},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"local\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:403},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:80},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"If you're not using Vercel, you can clone this demo locally using \",(0,r.jsxDEV)(n.code,{children:\"npx create-next-app --example with-redis roadmap\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:40,columnNumber:67},this),`.\nThen, create an `,(0,r.jsxDEV)(n.code,{children:\".env.local\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:41,columnNumber:17},this),\" file in the root of your repository and add the Redis connection string.\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:40,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,r.jsxDEV)(n.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx:.env.local\",\"data-theme\":\"default\",children:(0,r.jsxDEV)(n.code,{\"data-language\":\"jsx:.env.local\",\"data-theme\":\"default\",children:(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:(0,r.jsxDEV)(n.span,{style:{color:\"#abb2bf\"},children:\"REDIS_URL=redis://:password@endpoint:port\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:105},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:86},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:80},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"We'll use \",(0,r.jsxDEV)(n.a,{href:\"https://github.com/luin/ioredis\",children:\"ioredis\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:47,columnNumber:11},this),\", a Node.js Redis client with \",(0,r.jsxDEV)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\",children:\"async/await\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:47,columnNumber:83},this),\" support, to connect to Redis.\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,r.jsxDEV)(n.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:\"lib/redis.js\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this),(0,r.jsxDEV)(n.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,r.jsxDEV)(n.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:[(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"import\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:105},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:147},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"Redis\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:184},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:225},this),(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"from\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:262},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:302},this),(0,r.jsxDEV)(n.span,{style:{color:\"#98C379\"},children:\"'ioredis'\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:339},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\";\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:392},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:86},this),`\n`,(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:[(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"const\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:20},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:61},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E5C07B\"},children:\"redis\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:98},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:139},this),(0,r.jsxDEV)(n.span,{style:{color:\"#56B6C2\"},children:\"=\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:176},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:213},this),(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"new\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:250},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:289},this),(0,r.jsxDEV)(n.span,{style:{color:\"#61AFEF\"},children:\"Redis\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:326},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\"(\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:367},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E5C07B\"},children:\"process\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:404},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\".\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:447},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E5C07B\"},children:\"env\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:484},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\".\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:523},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"REDIS_URL\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:560},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\");\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:605},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:4,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:[(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"export\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:5,columnNumber:20},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:5,columnNumber:62},this),(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"default\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:5,columnNumber:99},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:5,columnNumber:142},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"redis\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:5,columnNumber:179},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\";\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:5,columnNumber:220},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:5,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:80},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"Finally, we can use this inside any page or API Route to retrieve information from Redis.\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,r.jsxDEV)(n.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,r.jsxDEV)(n.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:[(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"import\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:105},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:147},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"redis\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:184},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:225},this),(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"from\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:262},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:302},this),(0,r.jsxDEV)(n.span,{style:{color:\"#98C379\"},children:\"'lib/redis'\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:339},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\";\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:394},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:86},this),`\n`,(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:2,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.span,{\"data-line\":\"\",children:[(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"const\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:20},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:61},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E5C07B\"},children:\"value\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:98},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:139},this),(0,r.jsxDEV)(n.span,{style:{color:\"#56B6C2\"},children:\"=\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:176},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:213},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E5C07B\"},children:\"JSON\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:250},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\".\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:290},this),(0,r.jsxDEV)(n.span,{style:{color:\"#61AFEF\"},children:\"parse\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:327},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\"(\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:368},this),(0,r.jsxDEV)(n.span,{style:{color:\"#C678DD\"},children:\"await\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:405},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\" \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:446},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E5C07B\"},children:\"redis\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:483},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\".\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:524},this),(0,r.jsxDEV)(n.span,{style:{color:\"#61AFEF\"},children:\"hget\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:561},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\"(\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:601},this),(0,r.jsxDEV)(n.span,{style:{color:\"#98C379\"},children:\"'feedback'\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:638},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\", \"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:692},this),(0,r.jsxDEV)(n.span,{style:{color:\"#E06C75\"},children:\"id\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:730},this),(0,r.jsxDEV)(n.span,{style:{color:\"#ABB2BF\"},children:\"));\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:768},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:3,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:80},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"using-redis-with-nextjs\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#using-redis-with-nextjs\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this),\"Using Redis with Next.js\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:65,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"Here's a few common Redis commands you might need to use:\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.ul,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:[\"Fetching a JSON object: \",(0,r.jsxDEV)(n.code,{children:\"redis.hget('feedback', id)\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:69,columnNumber:27},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"Creating a JSON object: \",(0,r.jsxDEV)(n.code,{children:`redis.hset('feedback', id, \"{'key': 'val'}\")`},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:70,columnNumber:27},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:70,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"Deleting by key: \",(0,r.jsxDEV)(n.code,{children:\"redis.hdel('feedback', id)\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:71,columnNumber:20},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:71,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"Fetching a list of items: \",(0,r.jsxDEV)(n.code,{children:\"redis.hvals('feedback')\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:72,columnNumber:29},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:72,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"In the demo application, we use Redis for the following:\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:74,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:[\"The feature list is server-rendered using \",(0,r.jsxDEV)(n.code,{children:\"getServerSideProps\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:76,columnNumber:46},this),\". We fetch all features and sort based on the score and title.\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:76,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"The initial feature list from the server populates the local cache of \",(0,r.jsxDEV)(n.a,{href:\"swr.vercel.app\",children:\"SWR\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:77,columnNumber:74},this),\". This ensures data remains up-to-date on the client-side.\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:77,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"When adding features or emails, a \",(0,r.jsxDEV)(n.code,{children:\"POST\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:78,columnNumber:38},this),\" request is sent to an \",(0,r.jsxDEV)(n.a,{href:\"https://nextjs.org/docs/api-routes/introduction\",children:\"API Route\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:78,columnNumber:67},this),\" to update Redis.\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:78,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"Adding/upvoting features will mutate the client-side cache for \",(0,r.jsxDEV)(n.a,{href:\"https://swr.vercel.app/docs/mutation\",children:\"optimistic UI updates\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:79,columnNumber:67},this),\".\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:79,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:76,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"You can view the entire Redis API \",(0,r.jsxDEV)(n.a,{href:\"https://redis.io/commands\",children:\"here\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:81,columnNumber:35},this),\". For more advanced Redis usage, see the Redis API compatibility with Upstash \",(0,r.jsxDEV)(n.a,{href:\"https://docs.upstash.com/docs/overall/rediscompatibility/\",children:\"here\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:81,columnNumber:146},this),\".\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:81,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"conclusion\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#conclusion\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this),\"Conclusion\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:83,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[`I frequently need to store data, somewhere. It doesn't always need to be complex \\u2013 a key/value store will often suffice.\nAfter working more with Upstash, Redis is now my preferred solution for this (and apparently `,(0,r.jsxDEV)(n.a,{href:\"https://www.freecodecamp.org/news/stack-overflow-developer-survey-2020-programming-language-framework-salary-data/\",children:\"many other people's as well\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:86,columnNumber:94},this),\").\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:85,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.ul,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:(0,r.jsxDEV)(n.a,{href:\"https://roadmap-redis.vercel.app/\",children:\"View the demo \\u2728\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:88,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:88,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:(0,r.jsxDEV)(n.a,{href:\"https://vercel.com/new/git/external?repository-url=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Ftree%2Fcanary%2Fexamples%2Fwith-redis&project-name=redis-roadmap&repository-name=redis-roadmap&demo-title=Redis%20Roadmap&demo-description=Create%20and%20upvote%20features%20for%20your%20product.&demo-url=https%3A%2F%2Froadmap-redis.vercel.app%2F&integration-ids=oac_V3R1GIpkoJorr6fqyiwdhl17\",children:\"Deploy your own \\u{1F680}\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:89,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:89,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:88,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[(0,r.jsxDEV)(n.strong,{children:\"Bonus:\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:91,columnNumber:1},this),\" If you need to inspect your Redis database locally, check out \",(0,r.jsxDEV)(n.a,{href:\"https://tableplus.com/\",children:\"TablePlus\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:91,columnNumber:74},this),\" for a GUI and \",(0,r.jsxDEV)(n.a,{href:\"https://docs.upstash.com/docs/overall/getstarted#connect-to-your-database\",children:\"redis-cli\"},void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:91,columnNumber:124},this),\" if you prefer the command-line.\"]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:91,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\",lineNumber:1,columnNumber:1},this)}function yn(d={}){let{wrapper:n}=d.components||{};return n?(0,r.jsxDEV)(n,Object.assign({},d,{children:(0,r.jsxDEV)(we,d,void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this)}),void 0,!1,{fileName:\"/Users/26guo/playground/content/_mdx_bundler_entry_point-3a2f0f6f-6997-4637-8c78-79f436c88ecf.mdx\"},this):we(d)}var gn=yn;return bn(Nn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "serverless-redis-nextjs.mdx",
  "_raw": {
    "sourceFilePath": "serverless-redis-nextjs.mdx",
    "sourceFileName": "serverless-redis-nextjs.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "serverless-redis-nextjs"
  },
  "type": "Blog",
  "slug": "serverless-redis-nextjs",
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Using Serverless Redis with Next.js",
    "datePublished": "2021-03-19",
    "dateModified": "2021-03-19",
    "description": "Did you know it's possible to use Redis for your entire database? Hashmaps, counters, sorted lists, and even queues. Learn how to deploy a Redis & Next.js app in a few short minutes.",
    "image": "https://homescree.net/og?title=Using Serverless Redis with Next.js",
    "url": "https://homescree.net/blog/serverless-redis-nextjs",
    "author": {
      "@type": "Person",
      "name": "Matthew Guo"
    }
  }
}