{
  "title": "Building an Image Gallery with Next.js, Supabase, and Tailwind CSS",
  "publishedAt": "2022-03-28",
  "summary": "Learn how to create an image gallery with dynamic content from a PostgreSQL database, with support for content updates without needing to redeploy.",
  "body": {
    "raw": "\nThis tutorial will show you how to create a Next.js application that:\n\n- Fetches content from a PostgreSQL database (Supabase)\n- Updates content without needing to redeploy to Vercel\n- Serves optimized, blur-up images with `next/image`\n- Easily styles components with Tailwind CSS\n\nI used this to create [swag.vercel.app](https://swag.vercel.app), which is a collection of tweets from the Next.js community showing off their swag.\n\n<Image\n  alt={`Example of the image gallery`}\n  src={`/images/image-gallery-supabase-tailwind-nextjs/swag.png`}\n  width={2812 / 2}\n  height={2140 / 2}\n  priority\n/>\n\n## Getting Started\n\nTo set up your application, we can use `create-next-app` to clone a Next.js and Tailwind CSS starter application from the official [examples directory](https://github.com/vercel/next.js/tree/canary/examples/with-tailwindcss).\n\n```bash\nnpx create-next-app --example with-tailwindcss image-gallery\n```\n\nThis example includes:\n\n- The latest version of Next.js\n- Prettier configured to format code and organize Tailwind CSS class names\n- TypeScript configured for Next.js\n- Tailwind CSS configured to strip away unused class names\n- An example Next.js [API Route](https://nextjs.org/docs/api-routes/introduction)\n\n## Styling the Image Gallery\n\nNow that Tailwind is configured, we can create components to style our image gallery. Inside `pages/index.tsx`, which is the entry point into our application, let's use CSS Grid to set up the container for our images. We'll add some padding and grid spacing, which conditionally changes based on the viewport.\n\n```jsx title=\"pages/index.tsx\"\nexport default function Gallery() {\n  return (\n    <div className=\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\">\n      <div className=\"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8\">\n        {/* Images will go here */}\n      </div>\n    </div>\n  );\n}\n```\n\nNext, we need to create a component for the individual image. Not only do we want to show the image, but we also would like to show some additional metadata. In this instance, I'm adding a name and Twitter handle. Each image will also link out to the original tweet.\n\nLet's make a new component with placeholder data:\n\n```jsx title=\"pages/index.tsx\"\nfunction Image() {\n  return (\n    <a href=\"#\" className=\"group\">\n      <div className=\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\">\n        <img\n          alt=\"\"\n          src=\"https://bit.ly/placeholder-img\"\n          className=\"group-hover:opacity-75\"\n        />\n      </div>\n      <h3 className=\"mt-4 text-sm text-gray-700\">Lee Robinson</h3>\n      <p className=\"mt-1 text-lg font-medium text-gray-900\">@leeerob</p>\n    </a>\n  );\n}\n```\n\nWe're using [group modifiers](https://tailwindcss.com/docs/hover-focus-and-other-states#styling-based-on-parent-state) to make the hover area the _entire_ component, including the text, making the image's opacity dimmed. We're also ensuring the image maintains a 1:1 aspect ratio (square), which requires a Tailwind CSS plugin. Let's install that.\n\n```bash\nnpm i -D @tailwindcss/aspect-ratio\n```\n\nThen, we can update our `tailwind.config.js` file:\n\n```js title=\"tailwind.config.js\"\nmodule.exports = {\n  content: [\n    './pages/**/*.{js,ts,jsx,tsx}',\n    './components/**/*.{js,ts,jsx,tsx}',\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [require('@tailwindcss/aspect-ratio')],\n};\n```\n\n## Optimizing Images\n\nTo help achieve good [Core Web Vitals](https://nextjs.org/learn/seo/web-performance), we want to optimize images. Next.js provides an [Image component](https://nextjs.org/docs/basic-features/image-optimization) that gives us:\n\n- **Faster Page Loads:** Images are only loaded when they enter the viewport\n- **Visual Stability:** Prevents [Cumulative Layout Shift](https://nextjs.org/learn/seo/web-performance/cls) automatically\n- **Improved Performance:** Images use modern image formats (like WebP) for smaller file sizes and serve smaller images based on the device size\n\nLet's update our `Image` component to use `next/image`, and rename it to `BlurImage` to prevent a naming collison with the `Image` component we imported:\n\n```jsx title=\"pages/index.tsx\"\nimport Image from 'next/image';\n\nfunction BlurImage() {\n  return (\n    <a href=\"#\" className=\"group\">\n      <div className=\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\">\n        <Image\n          alt=\"\"\n          src=\"https://bit.ly/placeholder-img\"\n          layout=\"fill\"\n          objectFit=\"cover\"\n          className=\"group-hover:opacity-75\"\n        />\n      </div>\n      <h3 className=\"mt-4 text-sm text-gray-700\">Lee Robinson</h3>\n      <p className=\"mt-1 text-lg font-medium text-gray-900\">@leeerob</p>\n    </a>\n  );\n}\n```\n\nWe'll use the [fill layout](https://nextjs.org/docs/api-reference/next/image#layout) and `object-fit` [CSS property](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit) to properly scale the image.\n\nThe Next.js Image component requires an allowlist to specify which domains we can optimize images from. While we're using `bit.ly` as a placeholder, we can add any domain we want to the allowlist inside `next.config.js`:\n\n```js title=\"next.config.js\"\n/** @type {import('next').NextConfig} */\nmodule.exports = {\n  reactStrictMode: true,\n  images: {\n    domains: ['bit.ly'],\n  },\n};\n```\n\n## Blurred Placeholders for Images\n\nWhen images are loading, we'd like to show a blurred version for a better user experience. While the Image component does include this for [local image files](https://nextjs.org/docs/basic-features/image-optimization#local-images), we're going to be retrieving images from Supabase soon. Instead, we can use `onLoadingComplete` and CSS animation + blur to achieve a similar effect.\n\n```jsx title=\"pages/index.tsx\"\nimport Image from 'next/image';\nimport { useState } from 'react';\n\nfunction cn(...classes: string[]) {\n  return classes.filter(Boolean).join(' ');\n}\n\nfunction BlurImage() {\n  const [isLoading, setLoading] = useState(true);\n\n  return (\n    <a href=\"#\" className=\"group\">\n      <div className=\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\">\n        <Image\n          alt=\"\"\n          src=\"https://bit.ly/placeholder-img\"\n          layout=\"fill\"\n          objectFit=\"cover\"\n          className={cn(\n            'group-hover:opacity-75 duration-700 ease-in-out',\n            isLoading\n              ? 'grayscale blur-2xl scale-110'\n              : 'grayscale-0 blur-0 scale-100'\n          )}\n          onLoadingComplete={() => setLoading(false)}\n        />\n      </div>\n      <h3 className=\"mt-4 text-sm text-gray-700\">Lee Robinson</h3>\n      <p className=\"mt-1 text-lg font-medium text-gray-900\">@leeerob</p>\n    </a>\n  );\n}\n```\n\nNow, let's replace our placeholder data with real items from Supabase.\n\n## Setting Up Supabase\n\n[Supabase](https://supabase.com/) makes it really easy to create your [backend](/blog/backend), giving you a PostgreSQL database in a few clicks. Inside our Supabase dashboard, let's configure our new project:\n\n- Click \"New project\"\n- Choose your organization\n- Pick a name, database password, and click \"Create new project\"\n\nAfter your project is created, you'll want to click copy and save these two values:\n\n- **Project API keys â†’ `service_role`:** This is how we'll securely connect to Supabase on the server.\n- **Configuration â†’ URL:** This is the API endpoint the Supabase client will use to fetch and edit data.\n\nSave these values as [Environment Variables](https://nextjs.org/docs/basic-features/environment-variables) inside a new file `.env.local` inside your Next.js application:\n\n```bash:.env.local\nNEXT_PUBLIC_SUPABASE_URL=your-value-here\nSUPABASE_SERVICE_ROLE_KEY=your-value-here\n```\n\nNext, install the Supabase client:\n\n```bash\nnpm i @supabase/supabase-js\n```\n\nFinally, we can create a new client and connect to Supabase using our environment variables:\n\n```jsx title=\"pages/index.tsx\"\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabaseAdmin = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\n  process.env.SUPABASE_SERVICE_ROLE_KEY\n);\n```\n\n## Adding Data to Supabase\n\nFirst, we will need to create a new table inside Supabase for our images.\n\n- We'll name our table `images`\n- We'll keep the `id` and `created_at` columns as is\n- Let's add `name`, `href`, `userName`, and `imageSrc` columns, which are all `text`\n- Click \"Save\" and we're done!\n\n<Image\n  alt={`Example of the image gallery`}\n  src={`/images/image-gallery-supabase-tailwind-nextjs/supabase.png`}\n  width={2900 / 2}\n  height={2228 / 2}\n/>\n\nWe can add data directly through the Supabase web editor.\n\n## Fetching Data from Supabase\n\nWe've already set up our Supabase client in the file, so we can `select` all images from our `images` table:\n\n```jsx\nconst { data } = await supabaseAdmin.from('images').select('*');\n```\n\nWe'll fetch this data inside `getStaticProps`. [This function](https://nextjs.org/docs/basic-features/data-fetching/get-static-props) allows you to fetch data on the server and return it as props for the default React component exported in the Page:\n\n```tsx title=\"pages/index.tsx\"\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabaseAdmin = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\n  process.env.SUPABASE_SERVICE_ROLE_KEY\n);\n\nexport async function getStaticProps() {\n  const { data } = await supabaseAdmin.from('images').select('*');\n  return {\n    props: {\n      images: data,\n    },\n  };\n}\n\ntype Image = {\n  id: number;\n  href: string;\n  imageSrc: string;\n  name: string;\n  username: string;\n};\n\nexport default function Gallery({ images }: { images: Image[] }) {\n  return (\n    <div className=\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\">\n      <div className=\"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8\">\n        {/* Images will go here */}\n      </div>\n    </div>\n  );\n}\n```\n\nWe'll also add a type for our `Image` data returned from Supabase. Next, we can update our placeholder for images to use the real data. We'll also use our new `BlurImage` component, which makes use of `next/image` under the hood:\n\n```jsx title=\"pages/index.tsx\"\nexport default function Gallery({ images }: { images: Image[] }) {\n  return (\n    <div className=\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\">\n      <div className=\"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8\">\n        {images.map((image) => (\n          <BlurImage key={image.id} image={image} />\n        ))}\n      </div>\n    </div>\n  );\n}\n```\n\nAfter mapping through the list of `images`, we forward the current `image` as a prop to our `BlurImage` component. Let's update that component to replace the placeholder data:\n\n```jsx title=\"pages/index.tsx\"\nfunction BlurImage({ image }: { image: Image }) {\n  const [isLoading, setLoading] = useState(true);\n\n  return (\n    <a href={image.href} className=\"group\">\n      <div className=\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\">\n        <Image\n          alt=\"\"\n          src={image.imageSrc}\n          layout=\"fill\"\n          objectFit=\"cover\"\n          className={cn(\n            'group-hover:opacity-75 duration-700 ease-in-out',\n            isLoading\n              ? 'grayscale blur-2xl scale-110'\n              : 'grayscale-0 blur-0 scale-100'\n          )}\n          onLoadingComplete={() => setLoading(false)}\n        />\n      </div>\n      <h3 className=\"mt-4 text-sm text-gray-700\">{image.name}</h3>\n      <p className=\"mt-1 text-lg font-medium text-gray-900\">{image.username}</p>\n    </a>\n  );\n}\n```\n\nFinally, we'll want to update our image optimization allowlist to use the Twitter image URL:\n\n```js title=\"next.config.js\"\n/** @type {import('next').NextConfig} */\nmodule.exports = {\n  reactStrictMode: true,\n  images: {\n    domains: ['pbs.twimg.com'],\n  },\n};\n```\n\n## Deploying to Vercel\n\nOur image gallery is now showing a list of images, fetched from Supabase, and displayed nicely using Tailwind CSS. Let's deploy our Next.js application to Vercel:\n\n1.  Push your code to your git repository (e.g. GitHub, GitLab, BitBucket)\n2.  [Import your Next.js project](https://vercel.com/new) into Vercel\n3.  Add your [Environment Variables](https://vercel.com/docs/concepts/projects/environment-variables) during the import\n4.  Click \"Deploy\"\n\nVercel will auto-detect you are using Next.js and enable the correct settings for your deployment. Finally, your application is deployed at a URL like [swag.vercel.app](https://swag.vercel.app/).\n\nDuring the build process (`next build`), your application made a request to Supabase (by running `getStaticProps`) to fetch the images needed and generate an HTML file for the page. This file is static and **does not change** when you update your database.\n\nFor example, if you added a new image to the table, it would not be shown on your deployed application without rebuilding the entire app. Let's fix that.\n\n## On-Demand Incremental Static Regeneration\n\n[Next.js 12.1](https://nextjs.org/blog/next-12-1) included a helpful feature called [on-demand ISR](https://on-demand-isr.vercel.app/) that allows you to fetch updated data for any page _after_ it's been deployed. [Incremental Static Regeneration](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration) allows you to keep the benefits of static files (which are fast and reliable) while still updating your site when data changes.\n\nLet's enable our application to re-run `getStaticProps` when our `images` table changes.\n\n### Supabase Function Hooks\n\nFunction Hooks allow you to listen to any changes on your tables and trigger an asynchronous function. For example:\n\n- I add a new row to my `images` table (i.e. `INSERT`)\n- My function hook is triggered after the database row changes\n- I'm able to call an API Route inside my application to fetch new data and rebuild the page\n\nThis means I'm able to instantly rebuild a single page of my application and push the new file to Vercel's Edge Network in 300ms globally ðŸ¤¯\n\n### Creating our Revalidation API Route\n\nInside our Next.js application, we'll make a new API Route to revalidate our page. This route is secured by a secret query parameter that our Supabase instance will forward, to ensure that only Supabase can regenerate pages when data changes.\n\n```jsx title=\"pages/api/revalidate.ts\"\nexport default async function handler(req, res) {\n  // Check for secret to confirm this is a valid request\n  if (req.query.secret !== process.env.REVALIDATE_SECRET) {\n    return res.status(401).json({ message: 'Invalid token' });\n  }\n\n  try {\n    // Regenerate our index route showing the images\n    await res.revalidate('/');\n    return res.json({ revalidated: true });\n  } catch (err) {\n    // If there was an error, Next.js will continue\n    // to show the last successfully generated page\n    return res.status(500).send('Error revalidating');\n  }\n}\n```\n\nYou'll then want to add this new Environment Variable to your `.env.local` file, as well as on Vercel, before we deploy these changes.\n\n```bash:.env.local\nNEXT_PUBLIC_SUPABASE_URL=your-value-here\nSUPABASE_SERVICE_ROLE_KEY=your-value-here\nREVALIDATE_SECRET=your-value-here\n```\n\n### Creating our Function Hook\n\nInside the Supabase dashboard, click on your Database and then:\n\n- Click \"Function Hooks\" on the left sidebar\n- Click \"Create a new hook\"\n- We'll name our hook `update_images`\n- Table â†’ `images`\n- Events â†’ Insert, Update, and Delete\n- Type of hook â†’ HTTP Request\n- HTTP Request Method â†’ POST\n- HTTP Request URL â†’ `your-url.vercel.app/api/revalidate`\n- HTTP Params â†’ Add a new param `secret` with your secret from above\n- Click \"Confirm\"\n\nOur function hook is now active and will make a request to the specified HTTP Request URL whenever the `images` table changes.\n\n## On-Demand ISR in Action\n\nFirst, redeploy your application to Vercel to add the new API Route as well as the new Environment Variable (`REVALIDATE_SECRET`). Next, add a new row to the `images` table inside Supabase.\n\nAfter hitting \"Save\", you should see your deployed application **update instantly**!\n\n## Conclusion\n\nIn this tutorial, we were able to create a Next.js application showing a list of images fetched dynamically from Supabase and instantly update our deployed application whenever data changes.\n\n- [View the code](https://github.com/leerob/image-gallery-supabase-tailwind-nextjs)\n- [View the demo](https://swag.vercel.app)\n- [Try On-Demand ISR](https://on-demand-isr.vercel.app/)\n",
    "code": "var Component=(()=>{var h=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var F=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),g=(n,e)=>{for(var a in e)c(n,a,{get:e[a],enumerable:!0})},o=(n,e,a,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of B(e))!A.call(n,r)&&r!==a&&c(n,r,{get:()=>e[r],enumerable:!(s=p(e,r))||s.enumerable});return n};var u=(n,e,a)=>(a=n!=null?h(y(n)):{},o(e||!n||!n.__esModule?c(a,\"default\",{value:n,enumerable:!0}):a,n)),m=n=>o(c({},\"__esModule\",{value:!0}),n);var i=F((w,t)=>{t.exports=_jsx_runtime});var x={};g(x,{default:()=>D,frontmatter:()=>C});var l=u(i()),C={title:\"Building an Image Gallery with Next.js, Supabase, and Tailwind CSS\",publishedAt:\"2022-03-28\",summary:\"Learn how to create an image gallery with dynamic content from a PostgreSQL database, with support for content updates without needing to redeploy.\"};function d(n){let e=Object.assign({p:\"p\",ul:\"ul\",li:\"li\",code:\"code\",a:\"a\",h2:\"h2\",span:\"span\",div:\"div\",pre:\"pre\",em:\"em\",strong:\"strong\",ol:\"ol\",h3:\"h3\"},n.components),{Image:a}=e;return a||E(\"Image\",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"This tutorial will show you how to create a Next.js application that:\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"Fetches content from a PostgreSQL database (Supabase)\"}),`\n`,(0,l.jsx)(e.li,{children:\"Updates content without needing to redeploy to Vercel\"}),`\n`,(0,l.jsxs)(e.li,{children:[\"Serves optimized, blur-up images with \",(0,l.jsx)(e.code,{children:\"next/image\"})]}),`\n`,(0,l.jsx)(e.li,{children:\"Easily styles components with Tailwind CSS\"}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"I used this to create \",(0,l.jsx)(e.a,{href:\"https://swag.vercel.app\",children:\"swag.vercel.app\"}),\", which is a collection of tweets from the Next.js community showing off their swag.\"]}),`\n`,(0,l.jsx)(a,{alt:\"Example of the image gallery\",src:\"/images/image-gallery-supabase-tailwind-nextjs/swag.png\",width:2812/2,height:2140/2,priority:!0}),`\n`,(0,l.jsxs)(e.h2,{id:\"getting-started\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#getting-started\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Getting Started\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"To set up your application, we can use \",(0,l.jsx)(e.code,{children:\"create-next-app\"}),\" to clone a Next.js and Tailwind CSS starter application from the official \",(0,l.jsx)(e.a,{href:\"https://github.com/vercel/next.js/tree/canary/examples/with-tailwindcss\",children:\"examples directory\"}),\".\"]}),`\n`,(0,l.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,l.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"npx\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"create-next-app\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"--example\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"with-tailwindcss\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"image-gallery\"})]})})})}),`\n`,(0,l.jsx)(e.p,{children:\"This example includes:\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"The latest version of Next.js\"}),`\n`,(0,l.jsx)(e.li,{children:\"Prettier configured to format code and organize Tailwind CSS class names\"}),`\n`,(0,l.jsx)(e.li,{children:\"TypeScript configured for Next.js\"}),`\n`,(0,l.jsx)(e.li,{children:\"Tailwind CSS configured to strip away unused class names\"}),`\n`,(0,l.jsxs)(e.li,{children:[\"An example Next.js \",(0,l.jsx)(e.a,{href:\"https://nextjs.org/docs/api-routes/introduction\",children:\"API Route\"})]}),`\n`]}),`\n`,(0,l.jsxs)(e.h2,{id:\"styling-the-image-gallery\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#styling-the-image-gallery\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Styling the Image Gallery\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Now that Tailwind is configured, we can create components to style our image gallery. Inside \",(0,l.jsx)(e.code,{children:\"pages/index.tsx\"}),\", which is the entry point into our application, let's use CSS Grid to set up the container for our images. We'll add some padding and grid spacing, which conditionally changes based on the viewport.\"]}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:\"pages/index.tsx\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"default\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"Gallery\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"/* Images will go here */\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),`\n`,(0,l.jsx)(e.p,{children:\"Next, we need to create a component for the individual image. Not only do we want to show the image, but we also would like to show some additional metadata. In this instance, I'm adding a name and Twitter handle. Each image will also link out to the original tweet.\"}),`\n`,(0,l.jsx)(e.p,{children:\"Let's make a new component with placeholder data:\"}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:\"pages/index.tsx\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"Image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"a\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"href\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"#\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"group\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"img\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"alt\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"src\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"https://bit.ly/placeholder-img\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"group-hover:opacity-75\"'})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        />\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"h3\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"mt-4 text-sm text-gray-700\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">Lee Robinson</\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"h3\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"mt-1 text-lg font-medium text-gray-900\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">@leeerob</\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"a\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"We're using \",(0,l.jsx)(e.a,{href:\"https://tailwindcss.com/docs/hover-focus-and-other-states#styling-based-on-parent-state\",children:\"group modifiers\"}),\" to make the hover area the \",(0,l.jsx)(e.em,{children:\"entire\"}),\" component, including the text, making the image's opacity dimmed. We're also ensuring the image maintains a 1:1 aspect ratio (square), which requires a Tailwind CSS plugin. Let's install that.\"]}),`\n`,(0,l.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,l.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"i\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"-D\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"@tailwindcss/aspect-ratio\"})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Then, we can update our \",(0,l.jsx)(e.code,{children:\"tailwind.config.js\"}),\" file:\"]}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"js\",\"data-theme\":\"default\",children:\"tailwind.config.js\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"module\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"exports\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"content\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": [\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'./pages/**/*.{js,ts,jsx,tsx}'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'./components/**/*.{js,ts,jsx,tsx}'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  ],\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"theme\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"extend\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": {},\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  },\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"plugins\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"require\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'@tailwindcss/aspect-ratio'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\")],\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})]}),`\n`,(0,l.jsxs)(e.h2,{id:\"optimizing-images\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#optimizing-images\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Optimizing Images\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"To help achieve good \",(0,l.jsx)(e.a,{href:\"https://nextjs.org/learn/seo/web-performance\",children:\"Core Web Vitals\"}),\", we want to optimize images. Next.js provides an \",(0,l.jsx)(e.a,{href:\"https://nextjs.org/docs/basic-features/image-optimization\",children:\"Image component\"}),\" that gives us:\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Faster Page Loads:\"}),\" Images are only loaded when they enter the viewport\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Visual Stability:\"}),\" Prevents \",(0,l.jsx)(e.a,{href:\"https://nextjs.org/learn/seo/web-performance/cls\",children:\"Cumulative Layout Shift\"}),\" automatically\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Improved Performance:\"}),\" Images use modern image formats (like WebP) for smaller file sizes and serve smaller images based on the device size\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Let's update our \",(0,l.jsx)(e.code,{children:\"Image\"}),\" component to use \",(0,l.jsx)(e.code,{children:\"next/image\"}),\", and rename it to \",(0,l.jsx)(e.code,{children:\"BlurImage\"}),\" to prevent a naming collison with the \",(0,l.jsx)(e.code,{children:\"Image\"}),\" component we imported:\"]}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:\"pages/index.tsx\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"Image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'next/image'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"BlurImage\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"a\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"href\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"#\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"group\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Image\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"alt\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"src\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"https://bit.ly/placeholder-img\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"layout\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"fill\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"objectFit\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"cover\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"group-hover:opacity-75\"'})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        />\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"h3\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"mt-4 text-sm text-gray-700\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">Lee Robinson</\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"h3\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"mt-1 text-lg font-medium text-gray-900\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">@leeerob</\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"a\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"We'll use the \",(0,l.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/next/image#layout\",children:\"fill layout\"}),\" and \",(0,l.jsx)(e.code,{children:\"object-fit\"}),\" \",(0,l.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit\",children:\"CSS property\"}),\" to properly scale the image.\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"The Next.js Image component requires an allowlist to specify which domains we can optimize images from. While we're using \",(0,l.jsx)(e.code,{children:\"bit.ly\"}),\" as a placeholder, we can add any domain we want to the allowlist inside \",(0,l.jsx)(e.code,{children:\"next.config.js\"}),\":\"]}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"js\",\"data-theme\":\"default\",children:\"next.config.js\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"/** \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\",fontStyle:\"italic\"},children:\"@type\"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\",fontStyle:\"italic\"},children:\"{import('next').NextConfig}\"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" */\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"module\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"exports\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"reactStrictMode\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"images\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"domains\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'bit.ly'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})]}),`\n`,(0,l.jsxs)(e.h2,{id:\"blurred-placeholders-for-images\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#blurred-placeholders-for-images\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Blurred Placeholders for Images\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"When images are loading, we'd like to show a blurred version for a better user experience. While the Image component does include this for \",(0,l.jsx)(e.a,{href:\"https://nextjs.org/docs/basic-features/image-optimization#local-images\",children:\"local image files\"}),\", we're going to be retrieving images from Supabase soon. Instead, we can use \",(0,l.jsx)(e.code,{children:\"onLoadingComplete\"}),\" and CSS animation + blur to achieve a similar effect.\"]}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:\"pages/index.tsx\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"Image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'next/image'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"useState\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'react'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"cn\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(...\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"classes\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"string\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"[]) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"classes\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"filter\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"Boolean\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"join\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"' '\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"BlurImage\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"isLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"setLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"useState\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"a\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"href\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"#\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"group\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Image\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"alt\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"src\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"https://bit.ly/placeholder-img\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"layout\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"fill\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"objectFit\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"cover\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"cn\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"            \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'group-hover:opacity-75 duration-700 ease-in-out'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"            \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"isLoading\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"              \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"?\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'grayscale blur-2xl scale-110'\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"              \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'grayscale-0 blur-0 scale-100'\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          )\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"onLoadingComplete\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"() \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"setLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\")\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        />\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"h3\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"mt-4 text-sm text-gray-700\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">Lee Robinson</\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"h3\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"mt-1 text-lg font-medium text-gray-900\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">@leeerob</\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"a\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),`\n`,(0,l.jsx)(e.p,{children:\"Now, let's replace our placeholder data with real items from Supabase.\"}),`\n`,(0,l.jsxs)(e.h2,{id:\"setting-up-supabase\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#setting-up-supabase\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Setting Up Supabase\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.a,{href:\"https://supabase.com/\",children:\"Supabase\"}),\" makes it really easy to create your \",(0,l.jsx)(e.a,{href:\"/blog/backend\",children:\"backend\"}),\", giving you a PostgreSQL database in a few clicks. Inside our Supabase dashboard, let's configure our new project:\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:'Click \"New project\"'}),`\n`,(0,l.jsx)(e.li,{children:\"Choose your organization\"}),`\n`,(0,l.jsx)(e.li,{children:'Pick a name, database password, and click \"Create new project\"'}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"After your project is created, you'll want to click copy and save these two values:\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsxs)(e.strong,{children:[\"Project API keys \\u2192 \",(0,l.jsx)(e.code,{children:\"service_role\"}),\":\"]}),\" This is how we'll securely connect to Supabase on the server.\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Configuration \\u2192 URL:\"}),\" This is the API endpoint the Supabase client will use to fetch and edit data.\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Save these values as \",(0,l.jsx)(e.a,{href:\"https://nextjs.org/docs/basic-features/environment-variables\",children:\"Environment Variables\"}),\" inside a new file \",(0,l.jsx)(e.code,{children:\".env.local\"}),\" inside your Next.js application:\"]}),`\n`,(0,l.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"bash:.env.local\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"bash:.env.local\",\"data-theme\":\"default\",children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#abb2bf\"},children:\"NEXT_PUBLIC_SUPABASE_URL=your-value-here\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#abb2bf\"},children:\"SUPABASE_SERVICE_ROLE_KEY=your-value-here\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"Next, install the Supabase client:\"}),`\n`,(0,l.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,l.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"i\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"@supabase/supabase-js\"})]})})})}),`\n`,(0,l.jsx)(e.p,{children:\"Finally, we can create a new client and connect to Supabase using our environment variables:\"}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:\"pages/index.tsx\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"createClient\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'@supabase/supabase-js'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"supabaseAdmin\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"createClient\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"process\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"env\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"NEXT_PUBLIC_SUPABASE_URL\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"process\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"env\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"SUPABASE_SERVICE_ROLE_KEY\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})})]})})]}),`\n`,(0,l.jsxs)(e.h2,{id:\"adding-data-to-supabase\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#adding-data-to-supabase\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Adding Data to Supabase\"]}),`\n`,(0,l.jsx)(e.p,{children:\"First, we will need to create a new table inside Supabase for our images.\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"We'll name our table \",(0,l.jsx)(e.code,{children:\"images\"})]}),`\n`,(0,l.jsxs)(e.li,{children:[\"We'll keep the \",(0,l.jsx)(e.code,{children:\"id\"}),\" and \",(0,l.jsx)(e.code,{children:\"created_at\"}),\" columns as is\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"Let's add \",(0,l.jsx)(e.code,{children:\"name\"}),\", \",(0,l.jsx)(e.code,{children:\"href\"}),\", \",(0,l.jsx)(e.code,{children:\"userName\"}),\", and \",(0,l.jsx)(e.code,{children:\"imageSrc\"}),\" columns, which are all \",(0,l.jsx)(e.code,{children:\"text\"})]}),`\n`,(0,l.jsx)(e.li,{children:`Click \"Save\" and we're done!`}),`\n`]}),`\n`,(0,l.jsx)(a,{alt:\"Example of the image gallery\",src:\"/images/image-gallery-supabase-tailwind-nextjs/supabase.png\",width:2900/2,height:2228/2}),`\n`,(0,l.jsx)(e.p,{children:\"We can add data directly through the Supabase web editor.\"}),`\n`,(0,l.jsxs)(e.h2,{id:\"fetching-data-from-supabase\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#fetching-data-from-supabase\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Fetching Data from Supabase\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"We've already set up our Supabase client in the file, so we can \",(0,l.jsx)(e.code,{children:\"select\"}),\" all images from our \",(0,l.jsx)(e.code,{children:\"images\"}),\" table:\"]}),`\n`,(0,l.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsx)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"await\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"supabaseAdmin\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'images'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"select\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'*'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"We'll fetch this data inside \",(0,l.jsx)(e.code,{children:\"getStaticProps\"}),\". \",(0,l.jsx)(e.a,{href:\"https://nextjs.org/docs/basic-features/data-fetching/get-static-props\",children:\"This function\"}),\" allows you to fetch data on the server and return it as props for the default React component exported in the Page:\"]}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"tsx\",\"data-theme\":\"default\",children:\"pages/index.tsx\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"createClient\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'@supabase/supabase-js'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"supabaseAdmin\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"createClient\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"process\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"env\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"NEXT_PUBLIC_SUPABASE_URL\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"process\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"env\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"SUPABASE_SERVICE_ROLE_KEY\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"getStaticProps\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"await\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"supabaseAdmin\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'images'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"select\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'*'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"props\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"images\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"type\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"id\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"number\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"href\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"string\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"imageSrc\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"string\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"name\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"string\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"username\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"string\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"default\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"Gallery\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"images\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" }: { \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"images\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"[] }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"/* Images will go here */\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"We'll also add a type for our \",(0,l.jsx)(e.code,{children:\"Image\"}),\" data returned from Supabase. Next, we can update our placeholder for images to use the real data. We'll also use our new \",(0,l.jsx)(e.code,{children:\"BlurImage\"}),\" component, which makes use of \",(0,l.jsx)(e.code,{children:\"next/image\"}),\" under the hood:\"]}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:\"pages/index.tsx\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"default\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"Gallery\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"images\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" }: { \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"images\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"[] }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"images\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          <\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"BlurImage\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"key\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"id\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" />\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        ))\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"After mapping through the list of \",(0,l.jsx)(e.code,{children:\"images\"}),\", we forward the current \",(0,l.jsx)(e.code,{children:\"image\"}),\" as a prop to our \",(0,l.jsx)(e.code,{children:\"BlurImage\"}),\" component. Let's update that component to replace the placeholder data:\"]}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:\"pages/index.tsx\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"BlurImage\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" }: { \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"isLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"setLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"useState\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"a\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"href\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"href\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"group\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"Image\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"alt\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"src\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"imageSrc\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"layout\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"fill\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"objectFit\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"cover\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"cn\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"            \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'group-hover:opacity-75 duration-700 ease-in-out'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"            \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"isLoading\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"              \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"?\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'grayscale blur-2xl scale-110'\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"              \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'grayscale-0 blur-0 scale-100'\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          )\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"          \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"onLoadingComplete\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"() \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"setLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\")\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"        />\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"h3\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"mt-4 text-sm text-gray-700\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"name\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"</\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"h3\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"className\"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:'\"mt-1 text-lg font-medium text-gray-900\"'}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"image\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"username\"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"}\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"</\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"a\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),`\n`,(0,l.jsx)(e.p,{children:\"Finally, we'll want to update our image optimization allowlist to use the Twitter image URL:\"}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"js\",\"data-theme\":\"default\",children:\"next.config.js\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"/** \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\",fontStyle:\"italic\"},children:\"@type\"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\",fontStyle:\"italic\"},children:\"{import('next').NextConfig}\"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" */\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"module\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"exports\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"reactStrictMode\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"images\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"domains\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'pbs.twimg.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})]}),`\n`,(0,l.jsxs)(e.h2,{id:\"deploying-to-vercel\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#deploying-to-vercel\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Deploying to Vercel\"]}),`\n`,(0,l.jsx)(e.p,{children:\"Our image gallery is now showing a list of images, fetched from Supabase, and displayed nicely using Tailwind CSS. Let's deploy our Next.js application to Vercel:\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsx)(e.li,{children:\"Push your code to your git repository (e.g. GitHub, GitLab, BitBucket)\"}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:\"https://vercel.com/new\",children:\"Import your Next.js project\"}),\" into Vercel\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"Add your \",(0,l.jsx)(e.a,{href:\"https://vercel.com/docs/concepts/projects/environment-variables\",children:\"Environment Variables\"}),\" during the import\"]}),`\n`,(0,l.jsx)(e.li,{children:'Click \"Deploy\"'}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Vercel will auto-detect you are using Next.js and enable the correct settings for your deployment. Finally, your application is deployed at a URL like \",(0,l.jsx)(e.a,{href:\"https://swag.vercel.app/\",children:\"swag.vercel.app\"}),\".\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"During the build process (\",(0,l.jsx)(e.code,{children:\"next build\"}),\"), your application made a request to Supabase (by running \",(0,l.jsx)(e.code,{children:\"getStaticProps\"}),\") to fetch the images needed and generate an HTML file for the page. This file is static and \",(0,l.jsx)(e.strong,{children:\"does not change\"}),\" when you update your database.\"]}),`\n`,(0,l.jsx)(e.p,{children:\"For example, if you added a new image to the table, it would not be shown on your deployed application without rebuilding the entire app. Let's fix that.\"}),`\n`,(0,l.jsxs)(e.h2,{id:\"on-demand-incremental-static-regeneration\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#on-demand-incremental-static-regeneration\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"On-Demand Incremental Static Regeneration\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.a,{href:\"https://nextjs.org/blog/next-12-1\",children:\"Next.js 12.1\"}),\" included a helpful feature called \",(0,l.jsx)(e.a,{href:\"https://on-demand-isr.vercel.app/\",children:\"on-demand ISR\"}),\" that allows you to fetch updated data for any page \",(0,l.jsx)(e.em,{children:\"after\"}),\" it's been deployed. \",(0,l.jsx)(e.a,{href:\"https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration\",children:\"Incremental Static Regeneration\"}),\" allows you to keep the benefits of static files (which are fast and reliable) while still updating your site when data changes.\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Let's enable our application to re-run \",(0,l.jsx)(e.code,{children:\"getStaticProps\"}),\" when our \",(0,l.jsx)(e.code,{children:\"images\"}),\" table changes.\"]}),`\n`,(0,l.jsxs)(e.h3,{id:\"supabase-function-hooks\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#supabase-function-hooks\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Supabase Function Hooks\"]}),`\n`,(0,l.jsx)(e.p,{children:\"Function Hooks allow you to listen to any changes on your tables and trigger an asynchronous function. For example:\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"I add a new row to my \",(0,l.jsx)(e.code,{children:\"images\"}),\" table (i.e. \",(0,l.jsx)(e.code,{children:\"INSERT\"}),\")\"]}),`\n`,(0,l.jsx)(e.li,{children:\"My function hook is triggered after the database row changes\"}),`\n`,(0,l.jsx)(e.li,{children:\"I'm able to call an API Route inside my application to fetch new data and rebuild the page\"}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"This means I'm able to instantly rebuild a single page of my application and push the new file to Vercel's Edge Network in 300ms globally \\u{1F92F}\"}),`\n`,(0,l.jsxs)(e.h3,{id:\"creating-our-revalidation-api-route\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#creating-our-revalidation-api-route\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Creating our Revalidation API Route\"]}),`\n`,(0,l.jsx)(e.p,{children:\"Inside our Next.js application, we'll make a new API Route to revalidate our page. This route is secured by a secret query parameter that our Supabase instance will forward, to ensure that only Supabase can regenerate pages when data changes.\"}),`\n`,(0,l.jsxs)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,l.jsx)(e.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:\"pages/api/revalidate.ts\"}),(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"default\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"handler\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// Check for secret to confirm this is a valid request\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"if\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"query\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"secret\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#56B6C2\"},children:\"!==\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"process\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"env\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"REVALIDATE_SECRET\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"status\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"401\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"message\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'Invalid token'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"try\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// Regenerate our index route showing the images\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"await\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"revalidate\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'/'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"revalidated\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"err\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// If there was an error, Next.js will continue\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// to show the last successfully generated page\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"    \"}),(0,l.jsx)(e.span,{style:{color:\"#C678DD\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\" \"}),(0,l.jsx)(e.span,{style:{color:\"#E5C07B\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"status\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"500\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"'Error revalidating'\"}),(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"You'll then want to add this new Environment Variable to your \",(0,l.jsx)(e.code,{children:\".env.local\"}),\" file, as well as on Vercel, before we deploy these changes.\"]}),`\n`,(0,l.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,l.jsx)(e.pre,{style:{backgroundColor:\"#282c34\"},tabIndex:\"0\",\"data-language\":\"bash:.env.local\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"bash:.env.local\",\"data-theme\":\"default\",children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#abb2bf\"},children:\"NEXT_PUBLIC_SUPABASE_URL=your-value-here\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#abb2bf\"},children:\"SUPABASE_SERVICE_ROLE_KEY=your-value-here\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#abb2bf\"},children:\"REVALIDATE_SECRET=your-value-here\"})})]})})}),`\n`,(0,l.jsxs)(e.h3,{id:\"creating-our-function-hook\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#creating-our-function-hook\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Creating our Function Hook\"]}),`\n`,(0,l.jsx)(e.p,{children:\"Inside the Supabase dashboard, click on your Database and then:\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:'Click \"Function Hooks\" on the left sidebar'}),`\n`,(0,l.jsx)(e.li,{children:'Click \"Create a new hook\"'}),`\n`,(0,l.jsxs)(e.li,{children:[\"We'll name our hook \",(0,l.jsx)(e.code,{children:\"update_images\"})]}),`\n`,(0,l.jsxs)(e.li,{children:[\"Table \\u2192 \",(0,l.jsx)(e.code,{children:\"images\"})]}),`\n`,(0,l.jsx)(e.li,{children:\"Events \\u2192 Insert, Update, and Delete\"}),`\n`,(0,l.jsx)(e.li,{children:\"Type of hook \\u2192 HTTP Request\"}),`\n`,(0,l.jsx)(e.li,{children:\"HTTP Request Method \\u2192 POST\"}),`\n`,(0,l.jsxs)(e.li,{children:[\"HTTP Request URL \\u2192 \",(0,l.jsx)(e.code,{children:\"your-url.vercel.app/api/revalidate\"})]}),`\n`,(0,l.jsxs)(e.li,{children:[\"HTTP Params \\u2192 Add a new param \",(0,l.jsx)(e.code,{children:\"secret\"}),\" with your secret from above\"]}),`\n`,(0,l.jsx)(e.li,{children:'Click \"Confirm\"'}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Our function hook is now active and will make a request to the specified HTTP Request URL whenever the \",(0,l.jsx)(e.code,{children:\"images\"}),\" table changes.\"]}),`\n`,(0,l.jsxs)(e.h2,{id:\"on-demand-isr-in-action\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#on-demand-isr-in-action\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"On-Demand ISR in Action\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"First, redeploy your application to Vercel to add the new API Route as well as the new Environment Variable (\",(0,l.jsx)(e.code,{children:\"REVALIDATE_SECRET\"}),\"). Next, add a new row to the \",(0,l.jsx)(e.code,{children:\"images\"}),\" table inside Supabase.\"]}),`\n`,(0,l.jsxs)(e.p,{children:['After hitting \"Save\", you should see your deployed application ',(0,l.jsx)(e.strong,{children:\"update instantly\"}),\"!\"]}),`\n`,(0,l.jsxs)(e.h2,{id:\"conclusion\",children:[(0,l.jsx)(e.a,{className:\"anchor\",href:\"#conclusion\",children:(0,l.jsx)(e.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,l.jsx)(e.p,{children:\"In this tutorial, we were able to create a Next.js application showing a list of images fetched dynamically from Supabase and instantly update our deployed application whenever data changes.\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"https://github.com/leerob/image-gallery-supabase-tailwind-nextjs\",children:\"View the code\"})}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"https://swag.vercel.app\",children:\"View the demo\"})}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"https://on-demand-isr.vercel.app/\",children:\"Try On-Demand ISR\"})}),`\n`]})]})}function f(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,Object.assign({},n,{children:(0,l.jsx)(d,n)})):d(n)}var D=f;function E(n,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+n+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return m(x);})();\n;return Component;"
  },
  "_id": "image-gallery-supabase-tailwind-nextjs.mdx",
  "_raw": {
    "sourceFilePath": "image-gallery-supabase-tailwind-nextjs.mdx",
    "sourceFileName": "image-gallery-supabase-tailwind-nextjs.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "image-gallery-supabase-tailwind-nextjs"
  },
  "type": "Blog",
  "slug": "image-gallery-supabase-tailwind-nextjs",
  "tweetIds": [],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Building an Image Gallery with Next.js, Supabase, and Tailwind CSS",
    "datePublished": "2022-03-28",
    "dateModified": "2022-03-28",
    "description": "Learn how to create an image gallery with dynamic content from a PostgreSQL database, with support for content updates without needing to redeploy.",
    "image": "https://homescree.net/og?title=Building an Image Gallery with Next.js, Supabase, and Tailwind CSS",
    "url": "https://homescree.net/blog/image-gallery-supabase-tailwind-nextjs",
    "author": {
      "@type": "Person",
      "name": "Matthew Guo"
    }
  }
}